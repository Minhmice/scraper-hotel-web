<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hotel Scraper</title>
    <style>
      :root {
        --bg: #0b1020;
        --bg-elev: #121833;
        --fg: #e6e9ef;
        --muted: #9aa4b2;
        --primary: #5b8cff;
        --primary-600: #3f73ff;
        --success: #22c55e;
        --error: #ef4444;
        --code: #0f172a;
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #ffffff;
          --bg-elev: #f3f4f6;
          --fg: #111827;
          --muted: #6b7280;
          --primary: #2563eb;
          --primary-600: #1d4ed8;
          --success: #16a34a;
          --error: #dc2626;
          --code: #f6f8fa;
        }
      }
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 0; width: 360px; color: var(--fg); background: var(--bg); }
      .header { padding: 14px 14px 10px; background: linear-gradient(135deg, rgba(91,140,255,.2), rgba(91,140,255,0)); border-bottom: 1px solid rgba(255,255,255,.06); }
      .title { display: flex; align-items: center; gap: 8px; font-weight: 700; letter-spacing: .2px; }
      .title .badge { font-size: 11px; font-weight: 600; color: var(--primary); background: rgba(91,140,255,.12); padding: 2px 6px; border-radius: 999px; }
      .sub { margin-top: 4px; color: var(--muted); font-size: 12px; }
      .wrap { padding: 12px 14px 14px; }
      .row { display: flex; gap: 8px; }
      .btn { appearance: none; border: 0; border-radius: 10px; padding: 10px 12px; font-weight: 600; cursor: pointer; transition: transform .04s ease, background .2s ease, color .2s ease, opacity .2s ease; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
      .btn:active { transform: translateY(1px); }
      .btn.primary { background: var(--primary); color: #fff; }
      .btn.primary:hover { background: var(--primary-600); }
      .btn.ghost { background: transparent; color: var(--fg); border: 1px solid rgba(255,255,255,.12); }
      .btn.ghost:hover { background: rgba(255,255,255,.06); }
      .btn[disabled] { opacity: .6; cursor: not-allowed; }
      .btn .spinner { width: 14px; height: 14px; border: 2px solid transparent; border-top-color: #fff; border-right-color: #fff; border-radius: 50%; animation: spin .8s linear infinite; }
      .btn.loading .label { opacity: .85; }
      .btn.loading .spinner { display: inline-block; }
      .btn .spinner { display: none; }
      @keyframes spin { to { transform: rotate(360deg); } }
      pre { background: var(--code); padding: 10px; max-height: 240px; overflow: auto; white-space: pre-wrap; border-radius: 10px; margin-top: 10px; border: 1px solid rgba(255,255,255,.06); color: inherit; }
      .footer { margin-top: 10px; display: flex; align-items: center; justify-content: space-between; color: var(--muted); font-size: 11px; }
      .toast { position: fixed; inset-inline: 12px; bottom: 12px; background: var(--bg-elev); color: var(--fg); padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,.08); box-shadow: 0 6px 30px rgba(0,0,0,.35); opacity: 0; transform: translateY(8px); transition: all .2s ease; pointer-events: none; }
      .toast.show { opacity: 1; transform: translateY(0); }
      .toast.success { border-color: rgba(34,197,94,.4); }
      .toast.error { border-color: rgba(239,68,68,.4); }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="title">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Z" stroke="currentColor" stroke-width="1.5"/><path d="M12 6h3a3 3 0 0 1 3 3v7a2 2 0 0 1-2 2h-4V6Z" fill="currentColor" opacity=".1"/><circle cx="7.5" cy="8.5" r=".9" fill="currentColor"/><rect x="6.2" y="10.5" width="6.6" height="1.3" rx=".6" fill="currentColor" opacity=".65"/></svg>
        <span>Hotel Scraper</span>
        <span class="badge">v0.1</span>
      </div>
      <div class="sub">Open a Booking.com hotel page, then click Scrape.</div>
    </div>

    <div class="wrap">
      <div class="row">
        <button id="scrape" class="btn primary" title="Scrape data from current tab">
          <span class="spinner" aria-hidden="true"></span>
          <span class="label">Scrape Booking</span>
        </button>
        <button id="download" class="btn ghost" disabled title="Download scraped JSON">Download</button>
        <button id="copy" class="btn ghost" disabled title="Copy scraped JSON">Copy</button>
      </div>
      <pre id="output">{}</pre>
      <div class="footer">
        <span>JSON preview</span>
        <span id="meta"></span>
      </div>
    </div>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="popup.js"></script>
  </body>
</html>


